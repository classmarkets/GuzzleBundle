<script src="{{ asset('bundles/playbloomguzzle/vendor/jquery/jquery.min.js') }}"></script>
<script src="{{ asset('bundles/playbloomguzzle/vendor/bootstrap/js/bootstrap-tab.min.js') }}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.9/ace.js"></script>

<script>
    !function() {
        $('div.summary').click(function() {
            $(this).next('div.details').slideToggle(100);
        });

        $('a[class^=format-r-]').click(function(e) {
            e.preventDefault();
            var $a = $(e.target);
            $($a.data('target')).each(function(_, codeBlock) {
                var $this = $(codeBlock);
                $this.css({
                    left: 0,
                    right: 0
                });

                var editor = ace.edit($this.attr('id'));

                editor.setTheme("ace/theme/chrome");
                editor.setReadOnly(true);
                editor.setShowPrintMargin(false);
                editor.setOptions({maxLines: 50});

                if ($this.is('.json')) {
                    editor.getSession().setMode("ace/mode/json");
                    editor.getSession().setValue(JSON.stringify(JSON.parse(editor.getSession().getValue()), null, 4));
                }
            })
        })
    }()
</script>
